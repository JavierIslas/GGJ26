[gd_scene load_steps=16 format=3 uid="uid://2t5rkrcn1vb"]

[ext_resource type="PackedScene" uid="uid://bubhj7r567uy1" path="res://scenes/characters/player.tscn" id="1"]
[ext_resource type="Texture2D" uid="uid://clrw62xcbpj7r" path="res://assets/sprites/placeholder/PLACEHOLDER_player.png" id="2"]
[ext_resource type="Script" uid="uid://btqr6wm500ph6" path="res://scripts/level/level_manager.gd" id="3"]
[ext_resource type="Script" uid="uid://dofdepqw2y675" path="res://scripts/tutorial/tutorial_manager.gd" id="3_tutorial"]
[ext_resource type="PackedScene" path="res://scenes/ui/hud.tscn" id="4"]
[ext_resource type="PackedScene" path="res://scenes/ui/pause_menu.tscn" id="5"]
[ext_resource type="PackedScene" path="res://scenes/ui/game_over.tscn" id="6"]
[ext_resource type="PackedScene" path="res://scenes/ui/victory_screen.tscn" id="7"]
[ext_resource type="PackedScene" path="res://scenes/level/level_goal.tscn" id="8"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_enemy.tscn" id="9"]
[ext_resource type="Script" uid="uid://dntii6fonhx1a" path="res://scripts/tutorial/input_hint.gd" id="10"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_friend.tscn" id="11"]
[ext_resource type="PackedScene" path="res://scenes/level/truth_door.tscn" id="12"]

[sub_resource type="RectangleShape2D" id="floor_shape"]
size = Vector2(1500, 50)

[sub_resource type="RectangleShape2D" id="platform_shape"]
size = Vector2(200, 30)

[node name="Tutorial" type="Node2D"]

[node name="LevelManager" type="Node" parent="."]
script = ExtResource("3")

[node name="TutorialManager" type="Node" parent="."]
script = ExtResource("3_tutorial")

[node name="Background" type="ColorRect" parent="."]
offset_left = -100.0
offset_top = -100.0
offset_right = 3125.0
offset_bottom = 1180.0
color = Color(0.15, 0.15, 0.2, 1)

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(150, 500)

[node name="Camera2D2" type="Camera2D" parent="Player"]
position = Vector2(0, -100)
limit_left = 0
limit_top = 0
limit_right = 3000
limit_bottom = 600

[node name="SpawnPoint" type="Marker2D" parent="." groups=["spawn_point"]]
position = Vector2(150, 500)

[node name="Platforms" type="Node2D" parent="."]

[node name="Floor" type="StaticBody2D" parent="Platforms"]
position = Vector2(1400, 580)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Floor"]
scale = Vector2(2, 1)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Floor"]
modulate = Color(0.3, 0.3, 0.3, 1)
scale = Vector2(93.75, 1.5625)
texture = ExtResource("2")

[node name="WallLeft" type="StaticBody2D" parent="Platforms"]
position = Vector2(50, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/WallLeft"]
rotation = 1.5708
scale = Vector2(0.2, 0.1)
shape = SubResource("floor_shape")

[node name="WallRight" type="StaticBody2D" parent="Platforms"]
position = Vector2(2950, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/WallRight"]
position = Vector2(171, 32)
rotation = 1.5708
scale = Vector2(0.2, 0.1)
shape = SubResource("floor_shape")

[node name="Section1_Movement" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Section1_Movement"]
offset_left = 153.0
offset_top = 384.0
offset_right = 453.0
offset_bottom = 439.0
theme_override_colors/font_color = Color(0.7, 0.7, 0.8, 1)
theme_override_font_sizes/font_size = 18
text = "Usa A/D para moverte
Espacio para saltar"
horizontal_alignment = 1

[node name="Platform1" type="StaticBody2D" parent="Section1_Movement"]
position = Vector2(400, 520)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section1_Movement/Platform1"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section1_Movement/Platform1"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="Platform2" type="StaticBody2D" parent="Section1_Movement"]
position = Vector2(650, 480)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section1_Movement/Platform2"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section1_Movement/Platform2"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="Platform3" type="StaticBody2D" parent="Section1_Movement"]
position = Vector2(900, 430)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section1_Movement/Platform3"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section1_Movement/Platform3"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="Platform4" type="StaticBody2D" parent="Section1_Movement"]
position = Vector2(1150, 380)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section1_Movement/Platform4"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section1_Movement/Platform4"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="Section2_Reveal" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Section2_Reveal"]
offset_left = 1330.0
offset_top = 323.0
offset_right = 1630.0
offset_bottom = 378.0
theme_override_colors/font_color = Color(0.7, 0.7, 0.8, 1)
theme_override_font_sizes/font_size = 18
text = "Destruye el Velo
Revela la verdad"
horizontal_alignment = 1

[node name="BlockingPlatform" type="StaticBody2D" parent="Section2_Reveal"]
position = Vector2(1400, 520)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section2_Reveal/BlockingPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section2_Reveal/BlockingPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="FalseEnemy1" parent="Section2_Reveal" instance=ExtResource("9")]
position = Vector2(1400, 480)

[node name="InputHint" type="Label" parent="Section2_Reveal/FalseEnemy1"]
offset_left = -30.0
offset_top = -50.0
offset_right = 35.0
offset_bottom = -16.0
theme_override_colors/font_color = Color(0.9, 0.9, 0.2, 1)
theme_override_font_sizes/font_size = 24
text = "E / Xb"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("10")

[node name="Section3_Shards" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Section3_Shards"]
offset_left = 1292.0
offset_top = 383.0
offset_right = 1927.0
offset_bottom = 438.0
theme_override_colors/font_color = Color(0.7, 0.7, 0.8, 1)
theme_override_font_sizes/font_size = 18
text = "Desenmascaralos para obtener fragmentos            Usalos para eliminarlos"
horizontal_alignment = 1

[node name="Platform1" type="StaticBody2D" parent="Section3_Shards"]
position = Vector2(1600, 520)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section3_Shards/Platform1"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section3_Shards/Platform1"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="FalseEnemy2" parent="Section3_Shards" instance=ExtResource("9")]
position = Vector2(1600, 480)

[node name="InputHint" type="Label" parent="Section3_Shards/FalseEnemy2"]
offset_left = -32.0
offset_top = -56.0
offset_right = 33.0
offset_bottom = -22.0
theme_override_colors/font_color = Color(0.9, 0.9, 0.2, 1)
theme_override_font_sizes/font_size = 24
text = "E / Xb"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("10")

[node name="NarrowPassage" type="Node2D" parent="Section3_Shards"]

[node name="WallTop" type="StaticBody2D" parent="Section3_Shards/NarrowPassage"]
position = Vector2(1800, 450)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section3_Shards/NarrowPassage/WallTop"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section3_Shards/NarrowPassage/WallTop"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="WallBottom" type="StaticBody2D" parent="Section3_Shards/NarrowPassage"]
position = Vector2(1800, 540)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section3_Shards/NarrowPassage/WallBottom"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section3_Shards/NarrowPassage/WallBottom"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="FalseFriend1" parent="Section3_Shards" groups=["section3_target"] instance=ExtResource("11")]
position = Vector2(1800, 495)

[node name="InputHintShards" type="Label" parent="Section3_Shards"]
offset_left = 1711.0
offset_top = 351.0
offset_right = 1916.0
offset_bottom = 381.0
theme_override_colors/font_color = Color(0.9, 0.9, 0.2, 1)
theme_override_font_sizes/font_size = 20
text = "R / Click Derecho / LB"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("10")
show_range = 200.0

[node name="Section4_Howl" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Section4_Howl"]
offset_left = 1950.0
offset_top = 350.0
offset_right = 2250.0
offset_bottom = 390.0
theme_override_colors/font_color = Color(0.7, 0.7, 0.8, 1)
theme_override_font_sizes/font_size = 18
text = "Desenmascaralos, luego mantenlo
para desatar tu aullido"
horizontal_alignment = 1

[node name="CentralPlatform" type="StaticBody2D" parent="Section4_Howl"]
position = Vector2(2100, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section4_Howl/CentralPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section4_Howl/CentralPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="LeftPlatform" type="StaticBody2D" parent="Section4_Howl"]
position = Vector2(1950, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section4_Howl/LeftPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section4_Howl/LeftPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="RightPlatform" type="StaticBody2D" parent="Section4_Howl"]
position = Vector2(2250, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section4_Howl/RightPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section4_Howl/RightPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="FalseFriend_Left" parent="Section4_Howl" groups=["section4_enemies"] instance=ExtResource("11")]
position = Vector2(1950, 460)

[node name="FalseFriend_Right" parent="Section4_Howl" groups=["section4_enemies"] instance=ExtResource("11")]
position = Vector2(2250, 460)

[node name="FalseFriend_Center" parent="Section4_Howl" groups=["section4_enemies"] instance=ExtResource("11")]
position = Vector2(2100, 460)

[node name="InputHintHowl" type="Label" parent="Section4_Howl"]
offset_left = 2045.0
offset_top = 404.0
offset_right = 2145.0
offset_bottom = 435.0
theme_override_colors/font_color = Color(0.9, 0.9, 0.2, 1)
theme_override_font_sizes/font_size = 22
text = "Hold E / Xb"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("10")
show_range = 250.0

[node name="Section5_Dash" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Section5_Dash"]
offset_left = 2412.0
offset_top = 407.0
offset_right = 2712.0
offset_bottom = 462.0
theme_override_colors/font_color = Color(0.7, 0.7, 0.8, 1)
theme_override_font_sizes/font_size = 18
text = "Atraviesa el peligro
y cruza el vacio"
horizontal_alignment = 1

[node name="StartPlatform" type="StaticBody2D" parent="Section5_Dash"]
position = Vector2(2400, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section5_Dash/StartPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section5_Dash/StartPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="EndPlatform" type="StaticBody2D" parent="Section5_Dash"]
position = Vector2(2700, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section5_Dash/EndPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section5_Dash/EndPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
scale = Vector2(6.25, 0.9375)
texture = ExtResource("2")

[node name="FalseFriend_Dash1" parent="Section5_Dash" groups=["section5_obstacles"] instance=ExtResource("11")]
position = Vector2(2700, 460)

[node name="FalseFriend_Dash2" parent="Section5_Dash" groups=["section5_obstacles"] instance=ExtResource("11")]
position = Vector2(2750, 540)

[node name="InputHintDash" type="Label" parent="Section5_Dash"]
offset_left = 2350.0
offset_top = 420.0
offset_right = 2450.0
offset_bottom = 450.0
theme_override_colors/font_color = Color(0.9, 0.9, 0.2, 1)
theme_override_font_sizes/font_size = 22
text = "Shift / Bb"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("10")
show_range = 200.0

[node name="DashTrigger" type="Area2D" parent="Section5_Dash" groups=["dash_trigger"]]
position = Vector2(2700, 500)
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section5_Dash/DashTrigger"]
shape = SubResource("platform_shape")

[node name="UI" type="Node2D" parent="."]

[node name="HUD" parent="UI" instance=ExtResource("4")]

[node name="PauseMenu" parent="UI" instance=ExtResource("5")]

[node name="GameOver" parent="UI" instance=ExtResource("6")]

[node name="VictoryScreen" parent="UI" instance=ExtResource("7")]

[node name="Section6_Door" type="Node2D" parent="."]

[node name="Label" type="Label" parent="Section6_Door"]
offset_left = 2672.0
offset_top = 311.0
offset_right = 3018.0
offset_bottom = 366.0
theme_override_colors/font_color = Color(0.7, 0.7, 0.8, 1)
theme_override_font_sizes/font_size = 18
text = "Revela las verdades para abrir la puerta
y completar el entrenamiento"
horizontal_alignment = 1

[node name="DoorPlatform" type="StaticBody2D" parent="Section6_Door"]
position = Vector2(2900, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Section6_Door/DoorPlatform"]
shape = SubResource("platform_shape")

[node name="Sprite2D" type="Sprite2D" parent="Section6_Door/DoorPlatform"]
modulate = Color(0.4, 0.4, 0.45, 1)
position = Vector2(61, 0)
scale = Vector2(10.0625, 0.9375)
texture = ExtResource("2")

[node name="TruthDoor" parent="Section6_Door" instance=ExtResource("12")]
position = Vector2(2845, 435)
truths_required = 6

[node name="FalseEnemy_Door1" parent="Section6_Door" groups=["section6_entities"] instance=ExtResource("9")]
position = Vector2(2800, 540)

[node name="FalseEnemy_Door2" parent="Section6_Door" groups=["section6_entities"] instance=ExtResource("9")]
position = Vector2(2979, 467)

[node name="LevelGoal" parent="." instance=ExtResource("8")]
position = Vector2(3082, 432)
next_level_path = "res://scenes/levels/level_1.tscn"
