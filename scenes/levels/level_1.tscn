[gd_scene load_steps=14 format=3 uid="uid://coh20tdlv48ij"]

[ext_resource type="PackedScene" uid="uid://bubhj7r567uy1" path="res://scenes/characters/player.tscn" id="1"]
[ext_resource type="Texture2D" uid="uid://clrw62xcbpj7r" path="res://assets/sprites/placeholder/PLACEHOLDER_player.png" id="2"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_enemy.tscn" id="3"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_friend.tscn" id="4"]
[ext_resource type="PackedScene" path="res://scenes/ui/hud.tscn" id="5"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/true_threat.tscn" id="6"]
[ext_resource type="PackedScene" path="res://scenes/ui/pause_menu.tscn" id="7"]
[ext_resource type="PackedScene" path="res://scenes/ui/game_over.tscn" id="8"]
[ext_resource type="PackedScene" path="res://scenes/level/truth_door.tscn" id="9"]
[ext_resource type="Script" uid="uid://btqr6wm500ph6" path="res://scripts/level/level_manager.gd" id="10"]
[ext_resource type="PackedScene" path="res://scenes/level/level_goal.tscn" id="11"]
[ext_resource type="PackedScene" path="res://scenes/ui/victory_screen.tscn" id="12"]

[sub_resource type="RectangleShape2D" id="floor_shape"]
size = Vector2(1500, 50)

[node name="Level1" type="Node2D"]

[node name="LevelManager" type="Node" parent="."]
script = ExtResource("10")

[node name="Background" type="ColorRect" parent="."]
offset_left = -100.0
offset_top = -100.0
offset_right = 3500.0
offset_bottom = 1180.0
color = Color(0.1, 0.1, 0.15, 1)

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(150, 500)

[node name="SpawnPoint" type="Marker2D" parent="." groups=["spawn_point"]]
position = Vector2(150, 500)

[node name="Platforms" type="Node2D" parent="."]

[node name="Floor" type="StaticBody2D" parent="Platforms"]
position = Vector2(1500, 580)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Floor"]
scale = Vector2(2, 1)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Floor"]
modulate = Color(0.3, 0.3, 0.3, 1)
scale = Vector2(93.75, 1.5625)
texture = ExtResource("2")

[node name="WallLeft" type="StaticBody2D" parent="Platforms"]
position = Vector2(50, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/WallLeft"]
rotation = 1.5708
scale = Vector2(0.2, 0.1)
shape = SubResource("floor_shape")

[node name="WallRight" type="StaticBody2D" parent="Platforms"]
position = Vector2(3100, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/WallRight"]
rotation = 1.5708
scale = Vector2(0.2, 0.1)
shape = SubResource("floor_shape")

[node name="Platform1" type="StaticBody2D" parent="Platforms" groups=["intro_area"]]
position = Vector2(400, 450)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform1"]
scale = Vector2(0.2, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform1"]
modulate = Color(0.4, 0.4, 0.4, 1)
scale = Vector2(9, 0.9)
texture = ExtResource("2")

[node name="Platform2" type="StaticBody2D" parent="Platforms" groups=["area2"]]
position = Vector2(1100, 450)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform2"]
scale = Vector2(0.2, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform2"]
modulate = Color(0.4, 0.4, 0.4, 1)
scale = Vector2(9, 0.9)
texture = ExtResource("2")

[node name="Platform3" type="StaticBody2D" parent="Platforms" groups=["area3"]]
position = Vector2(1574, 386)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform3"]
scale = Vector2(0.2, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform3"]
modulate = Color(0.4, 0.4, 0.4, 1)
scale = Vector2(9, 0.9)
texture = ExtResource("2")

[node name="Platform4" type="StaticBody2D" parent="Platforms" groups=["area4"]]
position = Vector2(2100, 450)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform4"]
scale = Vector2(0.2, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform4"]
modulate = Color(0.4, 0.4, 0.4, 1)
scale = Vector2(9, 0.9)
texture = ExtResource("2")

[node name="Platform5" type="StaticBody2D" parent="Platforms" groups=["area5"]]
position = Vector2(2576, 395)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform5"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform5"]
modulate = Color(0.4, 0.4, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Entities" type="Node2D" parent="."]

[node name="Area2_FalseEnemy1" parent="Entities" instance=ExtResource("3")]
position = Vector2(700, 540)

[node name="Area2_FalseEnemy2" parent="Entities" instance=ExtResource("3")]
position = Vector2(950, 540)

[node name="Area3_FalseFriend1" parent="Entities" instance=ExtResource("4")]
position = Vector2(1574, 356)

[node name="Area4_TrueThreat1" parent="Entities" instance=ExtResource("6")]
position = Vector2(1900, 540)

[node name="Area5_FalseEnemy3" parent="Entities" instance=ExtResource("3")]
position = Vector2(2400, 540)

[node name="Area5_FalseFriend2" parent="Entities" instance=ExtResource("4")]
position = Vector2(2576, 365)

[node name="Area5_TrueThreat2" parent="Entities" instance=ExtResource("6")]
position = Vector2(2800, 540)

[node name="Doors" type="Node2D" parent="."]

[node name="Door1" parent="Doors" instance=ExtResource("9")]
position = Vector2(550, 530)
truths_required = 2

[node name="Door2" parent="Doors" instance=ExtResource("9")]
position = Vector2(1400, 530)
truths_required = 3

[node name="Door3_Final" parent="Doors" instance=ExtResource("9")]
position = Vector2(2950, 530)
truths_required = 6
door_color = Color(0.8, 0.6, 0.1, 1)

[node name="LevelGoal" parent="." instance=ExtResource("11")]
position = Vector2(3050, 530)
required_truths = 6
next_level_path = "res://scenes/levels/level_2.tscn"

[node name="UI" type="Node2D" parent="."]

[node name="HUD" parent="UI" instance=ExtResource("5")]

[node name="PauseMenu" parent="UI" instance=ExtResource("7")]

[node name="GameOver" parent="UI" instance=ExtResource("8")]

[node name="VictoryScreen" parent="UI" instance=ExtResource("12")]

[node name="Instructions" type="Node2D" parent="."]

[node name="IntroText" type="Label" parent="Instructions"]
offset_left = 100.0
offset_top = 400.0
offset_right = 300.0
offset_bottom = 450.0
theme_override_font_sizes/font_size = 16
text = "Usa A/D para moverte
Espacio para saltar
E para revelar verdades"
horizontal_alignment = 1

[node name="Door1Hint" type="Label" parent="Instructions"]
offset_left = 480.0
offset_top = 450.0
offset_right = 620.0
offset_bottom = 490.0
theme_override_colors/font_color = Color(0.8, 0.8, 0.2, 1)
theme_override_font_sizes/font_size = 12
text = "Revela a los enemigos
para abrir la puerta"
horizontal_alignment = 1
