[gd_scene load_steps=20 format=3 uid="uid://c8vq2lm4k3pqr"]

[ext_resource type="PackedScene" uid="uid://bubhj7r567uy1" path="res://scenes/characters/player.tscn" id="1"]
[ext_resource type="Texture2D" uid="uid://clrw62xcbpj7r" path="res://assets/sprites/placeholder/PLACEHOLDER_player.png" id="2"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_enemy.tscn" id="3"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_enemy_fast.tscn" id="4"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_friend.tscn" id="5"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/false_friend_jumper.tscn" id="6"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/true_threat.tscn" id="7"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/true_threat_tracking.tscn" id="8"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/true_threat_burst.tscn" id="9"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/true_threat_laser.tscn" id="10"]
[ext_resource type="PackedScene" path="res://scenes/characters/entities/true_threat_shield.tscn" id="11"]
[ext_resource type="PackedScene" path="res://scenes/ui/hud.tscn" id="12"]
[ext_resource type="PackedScene" path="res://scenes/ui/pause_menu.tscn" id="13"]
[ext_resource type="PackedScene" path="res://scenes/ui/game_over.tscn" id="14"]
[ext_resource type="PackedScene" path="res://scenes/level/truth_door.tscn" id="15"]
[ext_resource type="Script" uid="uid://btqr6wm500ph6" path="res://scripts/level/level_manager.gd" id="16"]
[ext_resource type="PackedScene" path="res://scenes/level/level_goal.tscn" id="17"]
[ext_resource type="PackedScene" path="res://scenes/ui/ending_screen.tscn" id="18"]

[sub_resource type="RectangleShape2D" id="floor_shape"]
size = Vector2(1500, 50)

[node name="Level3" type="Node2D"]

[node name="LevelManager" type="Node" parent="."]
script = ExtResource("16")

[node name="Background" type="ColorRect" parent="."]
offset_left = -100.0
offset_top = -100.0
offset_right = 7500.0
offset_bottom = 1180.0
color = Color(0.05, 0.05, 0.1, 1)

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(150, 500)

[node name="SpawnPoint" type="Marker2D" parent="." groups=["spawn_point"]]
position = Vector2(150, 500)

[node name="Platforms" type="Node2D" parent="."]

[node name="Floor" type="StaticBody2D" parent="Platforms"]
position = Vector2(3650, 580)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Floor"]
scale = Vector2(4.87, 1)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Floor"]
modulate = Color(0.25, 0.25, 0.3, 1)
scale = Vector2(228, 1.5625)
texture = ExtResource("2")

[node name="WallLeft" type="StaticBody2D" parent="Platforms"]
position = Vector2(50, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/WallLeft"]
rotation = 1.5708
scale = Vector2(0.2, 0.1)
shape = SubResource("floor_shape")

[node name="WallRight" type="StaticBody2D" parent="Platforms"]
position = Vector2(7300, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/WallRight"]
rotation = 1.5708
scale = Vector2(0.2, 0.1)
shape = SubResource("floor_shape")

[node name="Platform1_Area2_Upper1" type="StaticBody2D" parent="Platforms"]
position = Vector2(1344, 380)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform1_Area2_Upper1"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform1_Area2_Upper1"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform2_Area2_Upper2" type="StaticBody2D" parent="Platforms"]
position = Vector2(1700, 310)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform2_Area2_Upper2"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform2_Area2_Upper2"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform3_Area2_Lower" type="StaticBody2D" parent="Platforms"]
position = Vector2(1600, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform3_Area2_Lower"]
scale = Vector2(0.2, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform3_Area2_Lower"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(9, 0.9)
texture = ExtResource("2")

[node name="Platform4_Area3_Mid" type="StaticBody2D" parent="Platforms"]
position = Vector2(2661, 448)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform4_Area3_Mid"]
scale = Vector2(0.18, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform4_Area3_Mid"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(8, 0.9)
texture = ExtResource("2")

[node name="Platform5_Area4_Shield" type="StaticBody2D" parent="Platforms"]
position = Vector2(3600, 380)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform5_Area4_Shield"]
scale = Vector2(0.18, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform5_Area4_Shield"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(8, 0.9)
texture = ExtResource("2")

[node name="Platform6_Area5_Ascent1" type="StaticBody2D" parent="Platforms"]
position = Vector2(3957, 478)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform6_Area5_Ascent1"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform6_Area5_Ascent1"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform7_Area5_Ascent2" type="StaticBody2D" parent="Platforms"]
position = Vector2(4200, 420)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform7_Area5_Ascent2"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform7_Area5_Ascent2"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform8_Area5_Ascent3" type="StaticBody2D" parent="Platforms"]
position = Vector2(4401, 336)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform8_Area5_Ascent3"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform8_Area5_Ascent3"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform9_Area5_Ascent4" type="StaticBody2D" parent="Platforms"]
position = Vector2(4600, 420)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform9_Area5_Ascent4"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform9_Area5_Ascent4"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform10_Area5_Ascent5" type="StaticBody2D" parent="Platforms"]
position = Vector2(4750, 480)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform10_Area5_Ascent5"]
scale = Vector2(0.15, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform10_Area5_Ascent5"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(7, 0.9)
texture = ExtResource("2")

[node name="Platform11_Area6_Rest" type="StaticBody2D" parent="Platforms"]
position = Vector2(5100, 450)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform11_Area6_Rest"]
scale = Vector2(0.25, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform11_Area6_Rest"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(11, 0.9)
texture = ExtResource("2")

[node name="Platform12_Area7_Left" type="StaticBody2D" parent="Platforms"]
position = Vector2(5956, 404)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform12_Area7_Left"]
scale = Vector2(0.18, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform12_Area7_Left"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(8, 0.9)
texture = ExtResource("2")

[node name="Platform13_Area7_Center" type="StaticBody2D" parent="Platforms"]
position = Vector2(6400, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform13_Area7_Center"]
scale = Vector2(0.2, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform13_Area7_Center"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(9, 0.9)
texture = ExtResource("2")

[node name="Platform14_Area7_Right" type="StaticBody2D" parent="Platforms"]
position = Vector2(6900, 420)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform14_Area7_Right"]
scale = Vector2(0.18, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform14_Area7_Right"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(8, 0.9)
texture = ExtResource("2")

[node name="Platform15_Area7_LowLeft" type="StaticBody2D" parent="Platforms"]
position = Vector2(6192, 483)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform15_Area7_LowLeft"]
scale = Vector2(0.12, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform15_Area7_LowLeft"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(5.5, 0.9)
texture = ExtResource("2")

[node name="Platform16_Area7_LowRight" type="StaticBody2D" parent="Platforms"]
position = Vector2(6700, 500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform16_Area7_LowRight"]
scale = Vector2(0.12, 0.6)
shape = SubResource("floor_shape")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Platform16_Area7_LowRight"]
modulate = Color(0.35, 0.35, 0.4, 1)
scale = Vector2(5.5, 0.9)
texture = ExtResource("2")

[node name="Entities" type="Node2D" parent="."]

[node name="Area1_FalseEnemy" parent="Entities" instance=ExtResource("3")]
position = Vector2(400, 540)

[node name="Area1_FalseEnemyFast" parent="Entities" instance=ExtResource("4")]
position = Vector2(800, 540)

[node name="Area2_TrueThreatBurst" parent="Entities" instance=ExtResource("9")]
position = Vector2(1344, 340)

[node name="Area2_FalseFriend" parent="Entities" instance=ExtResource("5")]
position = Vector2(1400, 540)

[node name="Area2_FalseFriendJumper" parent="Entities" instance=ExtResource("6")]
position = Vector2(1800, 540)

[node name="Area3_TrueThreatTracking1" parent="Entities" instance=ExtResource("8")]
position = Vector2(2300, 540)

[node name="Area3_TrueThreatTracking2" parent="Entities" instance=ExtResource("8")]
position = Vector2(2662, 412)

[node name="Area4_TrueThreat" parent="Entities" instance=ExtResource("7")]
position = Vector2(3200, 540)

[node name="Area4_TrueThreatShield" parent="Entities" instance=ExtResource("11")]
position = Vector2(3600, 340)

[node name="Area4_TrueThreatLaser" parent="Entities" instance=ExtResource("10")]
position = Vector2(3500, 540)

[node name="Area5_TrueThreat" parent="Entities" instance=ExtResource("7")]
position = Vector2(4200, 540)

[node name="Area5_TrueThreatBurst" parent="Entities" instance=ExtResource("9")]
position = Vector2(4401, 296)

[node name="Area5_FalseEnemyFast" parent="Entities" instance=ExtResource("4")]
position = Vector2(4700, 540)

[node name="Area7_TrueThreat1" parent="Entities" instance=ExtResource("7")]
position = Vector2(5600, 540)

[node name="Area7_FalseFriend" parent="Entities" instance=ExtResource("5")]
position = Vector2(6400, 330)

[node name="Area7_TrueThreat2" parent="Entities" instance=ExtResource("7")]
position = Vector2(7000, 540)

[node name="Doors" type="Node2D" parent="."]

[node name="Door1" parent="Doors" instance=ExtResource("15")]
position = Vector2(950, 530)
truths_required = 2
door_color = Color(1, 0.2, 0.2, 1)

[node name="Door2" parent="Doors" instance=ExtResource("15")]
position = Vector2(2050, 530)
truths_required = 5
door_color = Color(1, 0.4, 0.1, 1)

[node name="Door3" parent="Doors" instance=ExtResource("15")]
position = Vector2(2950, 530)
truths_required = 7
door_color = Color(1, 1, 0.2, 1)

[node name="Door4" parent="Doors" instance=ExtResource("15")]
position = Vector2(3750, 530)
truths_required = 11
door_color = Color(0.2, 0.8, 1, 1)

[node name="Door5" parent="Doors" instance=ExtResource("15")]
position = Vector2(4750, 530)
truths_required = 10
door_color = Color(0.8, 0.1, 0.8, 1)

[node name="LevelGoal" parent="." instance=ExtResource("17")]
position = Vector2(7200, 530)
required_truths = 10

[node name="UI" type="Node2D" parent="."]

[node name="HUD" parent="UI" instance=ExtResource("12")]

[node name="PauseMenu" parent="UI" instance=ExtResource("13")]

[node name="GameOver" parent="UI" instance=ExtResource("14")]

[node name="EndingScreen" parent="UI" instance=ExtResource("18")]

[node name="Instructions" type="Node2D" parent="."]

[node name="IntroText" type="Label" parent="Instructions"]
offset_left = 100.0
offset_top = 350.0
offset_right = 400.0
offset_bottom = 450.0
theme_override_font_sizes/font_size = 18
text = "LEVEL 3: THE FINAL REVELATION

All threats converge
This is the end"
horizontal_alignment = 1

[node name="Area1Hint" type="Label" parent="Instructions"]
offset_left = 250.0
offset_top = 480.0
offset_right = 550.0
offset_bottom = 520.0
theme_override_colors/font_color = Color(0.6, 0.6, 0.7, 1)
theme_override_font_sizes/font_size = 12
text = "AREA 1: FALSE SECURITY
Easy start, stay focused"
horizontal_alignment = 1

[node name="Area2Hint" type="Label" parent="Instructions"]
offset_left = 1200.0
offset_top = 250.0
offset_right = 1500.0
offset_bottom = 290.0
theme_override_colors/font_color = Color(1, 0.6, 0.2, 1)
theme_override_font_sizes/font_size = 12
text = "AREA 2: DIVERGENT TRUTHS
Upper path: ranged
Lower path: melee"
horizontal_alignment = 1

[node name="Area3Hint" type="Label" parent="Instructions"]
offset_left = 2200.0
offset_top = 450.0
offset_right = 2500.0
offset_bottom = 490.0
theme_override_colors/font_color = Color(1, 0.3, 0.3, 1)
theme_override_font_sizes/font_size = 12
text = "AREA 3: CROSSFIRE
Watch your timing!"
horizontal_alignment = 1

[node name="Area4Hint" type="Label" parent="Instructions"]
offset_left = 3450.0
offset_top = 280.0
offset_right = 3750.0
offset_bottom = 320.0
theme_override_colors/font_color = Color(0.2, 0.6, 1, 1)
theme_override_font_sizes/font_size = 12
text = "AREA 4: SHIELDED TRUTH
Shield costs 2 reveals
Choose wisely"
horizontal_alignment = 1

[node name="Area5Hint" type="Label" parent="Instructions"]
offset_left = 4100.0
offset_top = 500.0
offset_right = 4400.0
offset_bottom = 540.0
theme_override_colors/font_color = Color(0.8, 0.1, 0.8, 1)
theme_override_font_sizes/font_size = 12
text = "AREA 5: THE ASCENT
Vertical gauntlet
Climb under fire"
horizontal_alignment = 1

[node name="Area6Hint" type="Label" parent="Instructions"]
offset_left = 4950.0
offset_top = 380.0
offset_right = 5250.0
offset_bottom = 430.0
theme_override_colors/font_color = Color(0.3, 0.8, 0.3, 1)
theme_override_font_sizes/font_size = 14
text = "AREA 6: THE CALM

FINAL CHALLENGE AHEAD"
horizontal_alignment = 1

[node name="Area7Hint" type="Label" parent="Instructions"]
offset_left = 5500.0
offset_top = 450.0
offset_right = 5800.0
offset_bottom = 510.0
theme_override_colors/font_color = Color(1, 0.2, 0.2, 1)
theme_override_font_sizes/font_size = 16
text = "AREA 7: THE CRUCIBLE

!!! FINAL GAUNTLET !!!
All skills required"
horizontal_alignment = 1
